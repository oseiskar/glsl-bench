<!DOCTYPE html>
<html lang="en">
    <head>
        <title>GLSL bench</title>
        <meta charset="utf-8">
    </head>
    <body>
        <script src="js_libs/jquery-2.1.4.min.js"></script>
        <script src="js_libs/three.min.js"></script>
        <script src="js_libs/Detector.js"></script>
        <script src="js_libs/mustache.min.js"></script>

        <script id="vertex-shader" type="x-shader/x-vertex">
            varying vec3 pos;
            void main()    {
                pos = position;
                gl_Position = vec4( position, 1.0 );
            }
        </script>
        <script id="copy-fragment-shader" type="x-shader/x-fragment">
          uniform sampler2D source;
          uniform float scale;
          uniform vec2 resolution;
          void main() {
            gl_FragColor = texture2D(source, gl_FragCoord.xy / resolution.xy) * scale;
          }
        </script>
        <script src="glsl_bench.js"></script>
        <script>
            $(document).ready(function() {
                var params = parseQueryString();
                if (!params.shader)
                    throw "Please define a shader JSON in the query string";

                startShader(params.shader);
            });
        </script>
    </body>
</html>
