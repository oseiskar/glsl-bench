<!DOCTYPE html>
<html lang="en">
    <head>
        <title>GLSL bench</title>
        <meta charset="utf-8">
        <style>
        body.fullscreen {
          margin: 0 !important;
          overflow: hidden !important;
        }
        </style>
    </head>
    <body>
        <div id="shader-container">
        </div>
        <script src="js_libs/twgl.min.js"></script>
        <script src="glsl_bench.js"></script>
        <script src="build/tracer_data.js"></script>
        <script>
          const params = new URLSearchParams(window.location.search);

          const runtimeShaderParams = {};
          if (params.has('fullscreen')) {
            document.getElementsByTagName('body')[0].className += ' fullscreen';
            runtimeShaderParams.resolution = 'auto';
          }
          if (params.has('batch_size')) {
            runtimeShaderParams.batch_size = parseInt(params.get('batch_size'));
          }

          const element = document.getElementById('shader-container');
          const spec = dynamicTracers[params.get('tracer')];
          for (let param in runtimeShaderParams) {
            spec[param] = runtimeShaderParams[param];
          }

          new GLSLBench({ element, spec });
        </script>
    </body>
</html>
